<!-- Debugging: Check if YAML data is loading -->
<p>Debug: {{ site.data.publications | inspect }}</p>

{% assign sorted_pubs = site.data.publications.publications | default: "" %}

{% if sorted_pubs == "" %}
  <p><strong>Error:</strong> No publications found. Make sure <code>_data/publications.yml</code> is correctly formatted.</p>
{% else %}
  {% assign sorted_pubs = sorted_pubs | sort: 'year' | reverse %}
  {% assign total_pubs = sorted_pubs.size %}

  <ul class="fa-ul">
    {% for pub in sorted_pubs %}
      {% assign pub_number = total_pubs | minus: forloop.index0 %}
      <li>
        <strong>[{{ pub_number }}]</strong> {{ pub.citation | markdownify }}
      </li>
    {% endfor %}
  </ul>
{% endif %}
